package sistemamatricula.test;

import static java.time.Duration.ofSeconds;
import org.junit.jupiter.api.Test;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.WebDriverWait;
import static org.openqa.selenium.support.ui.ExpectedConditions.titleIs;

import io.github.bonigarcia.wdm.WebDriverManager;

public class AlumnosTest {

	public static void main(String[] args) throws InterruptedException {
		//WebDriver driver = new FirefoxDriver();
		//System.setProperty("webdriver.firefox.driver", "./drivers/firefoxdriver.exe");
		//System.setProperty("webdriver.chrome.driver", "./drivers/chromedriver.exe");
		WebDriverManager wdm = WebDriverManager.chromedriver();
		wdm.browserVersion("114");
		wdm.setup();
		WebDriver driver = new ChromeDriver();
		try {
		
			driver.get("http://localhost:8080/alumnos");
			
			 new WebDriverWait(driver, ofSeconds(30), ofSeconds(1))
	         .until(titleIs("Alumnos"));
			
			WebElement campocuenta = driver.findElement(By.id("input-vaadin-text-field-42"));
			WebElement camponombre = driver.findElement(By.name("txtnombre"));
			
			campocuenta.click();
			campocuenta.sendKeys("2023123456789");
			
			camponombre.click();
			camponombre.sendKeys("pedro perez");
			
			WebElement boton = driver.findElement(By.name("btnguardaralumno"));
			boton.click();
			
			Thread.sleep(5000);

		} finally {
	      //Ends the browser session
	      driver.quit();
	  }
	}
	
	@Test
	public void guardarTest() {
		
	}
}
